# Test Design: Story 1.2 - Structure a Bootcamp into Courses and Lessons

## Overview
This document outlines the test scenarios and approaches for validating the implementation of Story 1.2: "Structure a Bootcamp into Courses and Lessons".

## Test Objectives
1. Verify that LMS Course DocType can be created successfully
2. Verify that LMS Lesson DocType can be created successfully
3. Verify that required fields are properly validated
4. Verify that the relationship between Bootcamp, Course, and Lesson works correctly
5. Verify that conditional fields based on content type work correctly
6. Verify that the free preview functionality works correctly
7. Verify that the UI forms work correctly

## Test Environment
- Frappe Framework v15.20.0
- ERPNext v15.20.0
- Python 3.x
- MariaDB 10.6

## Test Scenarios

### 1. Basic Course Creation
**Scenario**: Create a new LMS Course with valid data
**Preconditions**: 
- User has appropriate permissions to create LMS Courses
**Test Steps**:
1. Navigate to the LMS Course creation form
2. Enter valid data in all required fields (Title)
3. Enter optional data in other fields (Description)
4. Save the Course
**Expected Results**:
- Course is created successfully
- Course has a valid name
- All entered data is saved correctly

### 2. Course Validation
**Scenario**: Attempt to create a new LMS Course without required fields
**Preconditions**: 
- User has appropriate permissions to create LMS Courses
**Test Steps**:
1. Navigate to the LMS Course creation form
2. Leave the Title field empty
3. Enter optional data in other fields (Description)
4. Attempt to save the Course
**Expected Results**:
- System displays validation error
- Course is not created
- User is prompted to fill in required fields

### 3. Basic Lesson Creation
**Scenario**: Create a new LMS Lesson with valid data
**Preconditions**: 
- User has appropriate permissions to create LMS Lessons
**Test Steps**:
1. Navigate to the LMS Lesson creation form
2. Enter valid data in all required fields (Title, Content Type)
3. Enter optional data in other fields (Description)
4. Save the Lesson
**Expected Results**:
- Lesson is created successfully
- Lesson has a valid name
- All entered data is saved correctly

### 4. Lesson Validation
**Scenario**: Attempt to create a new LMS Lesson without required fields
**Preconditions**: 
- User has appropriate permissions to create LMS Lessons
**Test Steps**:
1. Navigate to the LMS Lesson creation form
2. Leave the Title field empty
3. Enter optional data in other fields (Description)
4. Attempt to save the Lesson
**Expected Results**:
- System displays validation error
- Lesson is not created
- User is prompted to fill in required fields

### 5. Content Type Conditional Fields
**Scenario**: Verify that conditional fields work correctly based on content type
**Preconditions**: 
- User has appropriate permissions to create LMS Lessons
**Test Steps**:
1. Navigate to the LMS Lesson creation form
2. Select "Text" as the Content Type
3. Verify that the Content field is visible
4. Verify that the Video URL field is not visible
5. Select "Video" as the Content Type
6. Verify that the Video URL field is visible
7. Verify that the Content field is not visible
8. Select "Lab" as the Content Type
9. Verify that the Content field is visible
10. Verify that the Video URL field is not visible
**Expected Results**:
- Fields are shown/hidden correctly based on content type selection

### 6. Free Preview Functionality
**Scenario**: Verify that the free preview functionality works correctly
**Preconditions**: 
- User has appropriate permissions to create LMS Lessons
**Test Steps**:
1. Navigate to the LMS Lesson creation form
2. Fill in required fields
3. Check the "Is Free Preview" checkbox
4. Save the Lesson
5. Verify that the lesson is marked as free preview
**Expected Results**:
- Lesson is created successfully
- Lesson is marked as free preview

### 7. Relationship Testing
**Scenario**: Verify that the relationship between Bootcamp, Course, and Lesson works correctly
**Preconditions**: 
- A Bootcamp exists
**Test Steps**:
1. Open an existing Bootcamp
2. Add a Course to the Bootcamp
3. Add a Lesson to the Course
4. Save the Bootcamp
5. Verify that the Course is linked to the Bootcamp
6. Verify that the Lesson is linked to the Course
**Expected Results**:
- Full hierarchy (Bootcamp -> Course -> Lesson) is created successfully
- Relationships are maintained correctly

### 8. Full Hierarchy Creation
**Scenario**: Create a complete hierarchy in one operation
**Preconditions**: 
- User has appropriate permissions to create LMS Bootcamps, Courses, and Lessons
**Test Steps**:
1. Create a new Bootcamp with Courses and Lessons in one operation
2. Verify that all components are created successfully
3. Verify that relationships are established correctly
**Expected Results**:
- Bootcamp, Courses, and Lessons are created successfully
- Relationships are established correctly

## Edge Cases and Error Conditions

### 1. Duplicate Titles
**Test**: Attempt to create a Course or Lesson with a title that already exists
**Expected**: System should handle duplicate titles appropriately

### 2. Database Connection Issues
**Test**: Simulate database connection issues during creation
**Expected**: System should handle errors gracefully and provide meaningful error messages

### 3. Permission Issues
**Test**: Attempt to create or edit Courses/Lessons without appropriate permissions
**Expected**: System should deny access and provide appropriate error messages

## Test Data Requirements

### Valid Test Data
- Titles with various lengths and characters
- Descriptions with various lengths and formatting
- All content types (Text, Video, Lab)
- Video URLs in various formats
- Unicode characters in text fields

### Invalid Test Data
- Empty required fields
- Invalid video URLs
- Excessively long strings
- Invalid characters where applicable

## Automation Considerations
- Unit tests already exist and should be expanded to cover edge cases
- Integration tests should be created to verify the complete workflow
- Consider creating tests for the conditional field logic

## Success Criteria
- All functional requirements are met
- All acceptance criteria are satisfied
- All identified risks are mitigated
- All test scenarios pass
- Code quality meets project standards
- Documentation is complete and accurate